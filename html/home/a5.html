<!doctype html>
<html>
    <head>
        <title>弹窗</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script> 
<style>
	body {margin: 0;padding: 0;}
	.box{
		width:50%;
		height:500px;
		margin:100px auto 0;
		position:relative;
		border:1px solid red;
	}
	.barrage {
		position:absolute;
		bottom:100px;
		
		width: 70px;
		height: 70px;
		color: #fff;
		display: flex;
		align-items: center;
		justify-content: center;
		background: -webkit-gradient(linear, 0 0, 100% 100%, from(#f00), to(#0f0));
		border-radius: 50%;
		
	}
</style>     
    </head>
    <body>
    	<div class="box">
    		
    		<div class="barrage" id="barrage">打开弹幕</div>
    	</div>
    </body>
    <script type="text/javascript">$(function() {
	var contH = $("#barrage").height();
	var startY, sY, moveY;
	var winH = $(".box").height();
	$("#barrage").on({ //绑定事件
		touchstart: function(e) {
			startY = e.originalEvent.targetTouches[0].pageY; //获取点击点的Y坐标
			sY = $(this).offset().top; //相对于当前窗口Y轴的偏移量
			topY = startY - sY; //鼠标所能移动最上端是当前鼠标距div上边距的位置
			bottomY = winH - contH + topY; //鼠标所能移动最下端是当前窗口距离减去鼠标距div最下端位置                
		},
		touchmove: function(e) {
			e.preventDefault();
			moveY = e.originalEvent.targetTouches[0].pageY - 100; //移动过程中Y轴的坐标
			if(moveY < topY) {
				moveY = topY;
			}
//			if(moveY > bottomY) {
//				moveY = bottomY;
//			}
			$(this).css({
				"top": moveY + sY - startY,
			})
		}
	})

})</script>
</html>