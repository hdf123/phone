<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=yes"/>
		<title>中原楼市</title>
		<link rel="stylesheet" type="text/css" href="css/door.css"/>
		<script src="../../js/js.js" type="text/javascript" charset="utf-8"></script>
		<!--<script src="js/surrounding.js" type="text/javascript" charset="utf-8"></script>-->
	</head>
	<body>
		<header class="headers">
			<div>
				<i class="iconfont">&#xe632;</i>
				<div>户型列表</div>
			</div>
			<div class="tab">
				<div class="act">
					<div>全部(8)</div>
					<div></div>
				</div>
				<div>
					<div>一室(7)</div>
					<div></div>
				</div>
				<div>
					<div>二室(5)</div>
					<div></div>
				</div>
				<div>
					<div>三室(4)</div>
					<div></div>
				</div>
				<div>
					<div>五室及以上</div>
					<div></div>
				</div>
			</div>
		</header>
		<section class="contents">
			<div class="swiper-container swiper1">
			  	<div class="swiper-wrapper">
			    	<div class="swiper-slide scra">
			    		<div class="door_box">
			    			<img src="" class="imgks" alt="" />
			    			<div class="door_child">
			    				<div>
			    					<h5>3室2厅2卫</h5>
			    					<div class="statea">在售</div>
			    				</div>
			    				<div>建面 117.4㎡  朝向南</div>
			    				<div>
			    					<div>南北通透</div>
			    					<div>景观阳台</div>
			    				</div>
			    				<div>约375万/套</div>
			    			</div>
			    		</div>
			    		<div class="door_box">
			    			<img src="" class="imgks" alt="" />
			    			<div class="door_child">
			    				<div>
			    					<h5>3室2厅2卫</h5>
			    					<div class="stateb">待售</div>
			    				</div>
			    				<div>建面 117.4㎡  朝向南</div>
			    				<div>
			    					<div>南北通透</div>
			    					<div>景观阳台</div>
			    				</div>
			    				<div>约375万/套</div>
			    			</div>
			    		</div>
			    		<div class="door_box">
			    			<img src="" class="imgks" alt="" />
			    			<div class="door_child">
			    				<div>
			    					<h5>3室2厅2卫</h5>
			    					<div>售罄</div>
			    				</div>
			    				<div>建面 117.4㎡  朝向南</div>
			    				<div>
			    					<div>南北通透</div>
			    					<div>景观阳台</div>
			    				</div>
			    				<div>约375万/套</div>
			    			</div>
			    		</div>
			    	</div>
			    	<div class="swiper-slide">slider2</div>
			    	<div class="swiper-slide">slider3</div>
			    	<div class="swiper-slide">slider4</div>
			    	<div class="swiper-slide">slider5</div>
			  	</div>
			</div>
		</section>
		

<script type="text/javascript">
	$(function(){
		$(".tab>div").click(function(){
			var zuobiao=$(this).index();
			$(this).addClass("act").siblings().removeClass("act");
			mySwiper1.slideTo(zuobiao+1,500,false);
		})
		var mySwiper1 = new Swiper('.swiper1', {
			loop:true,//循环
			observer:true,//修改swiper自己或子元素时，自动初始化swiper
			observeParents:true,//修改swiper的父元素时，自动初始化swiper
			onSlideChangeStart:function(swiper){//swiper3中使用
		        var xiabiao=swiper.realIndex;//循环状态下获取下标
		        console.log(1);
		         $(".tab>div").eq(xiabiao).addClass("act").siblings().removeClass("act");
		   }
		})
		/**
		 * 懒加载
		 */
		var page = 1,off_on = false;
		//加载数据
		var LoadingDataFn = function() {
		    var dom = '';
		    for (var i = 0; i < 20; i++) {
		        dom +=`<div>${i+1}</div>`;
		    }
//		    $('.scra').append(dom);
		    off_on = true;
		};
		//初始化， 第一次加载
		$(document).ready(function() {
		    LoadingDataFn();
		});
		$('.scra').scroll(function() {
		    //当时滚动条离底部60px时开始加载下一页的内容
		    if (($(this)[0].scrollTop + $(this).height() + 60) >= $(this)[0].scrollHeight) {
		        if (off_on) {
		            off_on = false;
		            page++;
		            console.log("第"+page+"页");
		            LoadingDataFn();
		        }
		    }
		});
		
		
		
		
		
	})
</script>
	</body>
</html>
